\documentclass{article}

\usepackage{titling}
\usepackage[a4paper, margin=1in]{geometry}
\usepackage[utf8]{inputenc} % "tells the compiler to use the UTF-8 encoding for input files"
% "Without this package, you may encounter errors or unexpected behavior if you use non-ASCII characters in your LaTeX document"

%MATH
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{mathrsfs} %For \mathscr
\usepackage{enumerate} % enumerate environment
\usepackage{centernot} % To have \not be centred; EG \centernot\iff

%
\usepackage[colorlinks]{hyperref}
\usepackage{footnotehyper}
\usepackage{parskip} % "inserts a vertical space between paragraphs"

%GRAPHICS
\usepackage{tikz} %for diagrams
\usepackage{fancyhdr} % "customize the headers and footers"
\usepackage{graphicx} % "provides a way to include images"
\usepackage[export]{adjustbox} %For putting frames around images
\usepackage{caption} % use \captionof{} in \center environment

%MISC
\usepackage{pdflscape} % allows creation of landscape pages

\pagestyle{fancy}
\fancyhf{}
\rhead{Edwin P.}
\lhead{\rightmark}
\rfoot{Page \thepage}

% Create title page
\renewcommand\maketitlehooka{\null\mbox{}\vfill}
\renewcommand\maketitlehookd{\vfill\null}

% Footnote options
\renewcommand{\footnoterule}{\noindent\smash{\rule[3pt]{\textwidth}{0.4pt}}}
\renewcommand*{\thefootnote}{(\arabic{footnote})}

\newcommand{\sref}[1]{\textsuperscript{(\ref{#1})}}
\newcommand{\vc}{\vcentcolon}

\setlength{\parindent}{0pt} % "sets the length of the paragraph indentation to zero"

% Textbook Sections
\theoremstyle{definition}
\newtheorem{thm}{Theorem}[subsubsection]
\newtheorem{defn}{Definition}[subsubsection]
\newtheorem{rmk}{Remark}[subsubsection]
\newtheorem{cor}{Corollary}[subsubsection]
\newtheorem{lem}{Lemma}[subsubsection]
\newtheorem{prop}{Proposition}[subsubsection]
\newtheorem{example}{Example}[subsubsection]
\newtheorem{exercise}{Exercise}[subsubsection]
\newenvironment{soln}
	{\begin{proof}[Solution]\vspace{-5pt}\setlength{\parskip}{0pt}} %generated by GPT.
	{\end{proof}\vspace{-5pt}} %vspace is to remove space above and below. idk what parskip is doing.

%bibitex options
\nocite{*}
\bibliographystyle{plain}

\allowdisplaybreaks % allows page breaks to occur within certain multiline math environments, such as align, gather, and multline.
%\delimitershortfall=-1pt

\setlength{\jot}{7pt} % sets the vertical spacing between lines in align*, gather, ...

\title{Analysis}
\author{Edwin Park}
\date{2023}

\begin{document}
\clearpage\maketitle\thispagestyle{empty} % Make title
\newpage
\tableofcontents
\newpage\setcounter{page}{1}

\section{Curl}
\begin{thm}
	\begin{align*}
		\nabla\times\vec F=0\Rightarrow\exists\,f:X\rightarrow \mathbb{R},\,\nabla f=\vec F,
	\end{align*}
	given that $\vec F$ is defined on $X$, an open, simply connected subset of $\mathbb{R}^3$.
\end{thm}

\newpage


\section{Integrals}
We define the Riemann-Stieltjis integral.
Let $\mu$ be our non-decreasing, bounded ``measure function'', and $f$ bounded over the interval $[a,b]$. Then, we define the lower and upper sums of a partition $P$ of that interval:
\begin{align*}
	U(f,\mu,P)\vc=&\sum_{p\in P}\sup_p(f)\Delta_p\mu\,;\\
	L(f,\mu,P)\vc=&\sum_{p\in P}\inf_p(f)\Delta_p\mu\,.
\end{align*}
Where $\Delta_p\mu=\mu(\text{endpoint})-\mu(\text{startpoint})$.
In turn we define the upper and lower Riemann-Stieltjis integrals:
\begin{align*}
	\overline{\int_a^b} f\,d\mu\vc=&\inf_PU(f,\mu,P)\,;\\
	\underline{\int_a^b} f\,d\mu\vc=&\sup_PL(f,\mu,P)\,.
\end{align*}
(Is it okay to take the inf/sup over partitions? Aren't there ``more'' partitions than there are real numbers? Maybe not, by the requirement that the partition be finite?)
The crucial property is that refining the partition non-strictly increases the lower sum and non-strictly decreases the upper sum. Also, we note that by the definition of inf/sup we can get arbitrarily close to the lower and upper integrals by some partition (say $P_L$ for the lower and $P_U$ for the upper). Then we can combine these two to get a partition which is arbitrarily close to both.

Now, we define the R-S integral as:
\begin{align*}
	\overline{\int_a^b} f\,d\mu=\underline{\int_a^b} f\,d\mu\Rightarrow \int_a^b f\,d\mu\vc=\overline{\int_a^b} f\,d\mu\,.
\end{align*}

\section{Surfaces}
We may specify a surface by
\begin{align*}
	z=\Phi(x,y).
\end{align*}
\begin{thm}
	\begin{align*}
		\iint_{\Phi(D)}f\,dS=\iint_Df(\Phi(x,y))\,\lVert\Phi_x\times\Phi_y\rVert\,dx\,dy
	\end{align*}
\end{thm}
\begin{defn}[Flux]
	We define the flux as, where $\Sigma$ is an oriented surface,
	\begin{align*}
		\iint_\Sigma\vec F\cdot d\vec S\vc=\iint_\Sigma\vec F\cdot\hat{n}\,dS.
	\end{align*}
	A unit normal is
	\begin{align*}
		\frac{\Phi_x\times\Phi_y}{\lVert\Phi_x\times\Phi_y\rVert}.
	\end{align*}
	Using this, we get the formula (where $\Phi:D\rightarrow\Sigma$)
	\begin{align*}
		\iint_\Sigma\vec F\cdot d\vec S=\iint_D\vec F\cdot(\Phi_x\times\Phi_y)\,dx\,dy.
	\end{align*}
	But which normal to take?
\end{defn}

\begin{thm}[Green's Theorem]
	\begin{align*}
		\int_D\partial_xQ-\partial_yP\,dx\,dy=\int_{\partial D}\begin{bmatrix}P\\Q\end{bmatrix}\cdot d\vec r
	\end{align*}
\end{thm}
\begin{proof}
	We prove the result for ``horizontally and/or vertically simple'' regions; a region is said to be vertically simple if it can be characterised by $a<x<b$ and $g_1(x)<y<g_2(x)$. Parametrising the boundary with $\partial D=(t,g_1(t))$ and $(t,g_2(t))$ where $a<t<b$, we have $dx=dt$ and $dy=g_1'(t)$ or $g_2'(t)$. Then:
	\begin{align*}
		\int_{\partial D}\begin{bmatrix}P\\Q\end{bmatrix}\cdot d\vec r&=\int_a^bP\left(\begin{bmatrix}t\\g_1(t)\end{bmatrix}\right)\,dt+Q\left(\begin{bmatrix}t\\g_1(t)\end{bmatrix}\right)g_1'(t)\,dt\\
		&-\int_a^bP\left(\begin{bmatrix}t\\g_2(t)\end{bmatrix}\right)\,dt+Q\left(\begin{bmatrix}t\\g_2(t)\end{bmatrix}\right)g_2'(t)\,dt\\
	\end{align*}
	Just looking at the $P$ parts (why?)
	\begin{align*}
		\int_a^b\left(P\left(\begin{bmatrix}t\\g_1(t)\end{bmatrix}\right)-P\left(\begin{bmatrix}t\\g_2(t)\end{bmatrix}\right)\right)\,dt&=-\int_a^b\int_{g_1(t)}^{g_2(t)}\partial_yP\,dy\,dt\\
		&=-\int_D\partial_yP\,dt.
	\end{align*}
	So $\int_{\partial D}P\,dx=-\int_D\partial_yP\,dt.$, and similarly for horizontally simple regions $\int_{\partial D}Q\,dy=\int_D\partial_xQ\,dt$. Thus for regions which are both we can combine our two expressions to get:
	\begin{align*}
		\int_D\partial_xQ-\partial_yP\,dx\,dy=\int_{\partial D}\begin{bmatrix}P\\Q\end{bmatrix}\cdot d\vec r.
	\end{align*}
\end{proof}
Though the regions for which the above theorem applies seems restrictive, we can ``slice'' up regions in a way such that we can apply to a broader range.

\begin{thm}[Divergence Theorem (2D)]
	\begin{align*}
		\int_C\vec F\cdot\hat{n}\,ds=\iint_D\nabla\cdot\vec F\,dx\,dy;
	\end{align*}
	This is equivalent to Green's theorem.
\end{thm}
\begin{proof}
	Parametrise the boundary with $\gamma(t)=\left(x(t),y(t)\right)$. Then the outward-pointing normal vector is
	\begin{align*}
		\hat{n}=\frac{1}{\lVert\gamma'(t)\rVert}(y'(t),-x'(t)).
	\end{align*}
	Now using $F=(P,Q)$, one can evaluate
	\begin{align*}
		\int_C\vec F\cdot\hat{n}\,ds&=\int_C-Q\,dx+P\,dy\\
		&=\iint_D\nabla\cdot\vec F\,dx\,dy.
	\end{align*}
\end{proof}

\begin{thm}[Stokes']
	\begin{align*}
		\iint_\Sigma(\nabla\times\vec F)\cdot d\vec S=\int_{\partial\Sigma}\vec F\cdot ds
	\end{align*}
\end{thm}
\begin{proof}
	Notice Stokes' theorem becomes Green's if surface is in the $x-y$ plane. 
	Anyways, let $\Sigma$ be parametrised by $\Phi(x,y)=(x,y,f(x,y))$, and let $\vec F=(u,v,w)$.
	Then
	\begin{align*}
		\int_{\partial \Sigma}\vec F\cdot ds=\int_{\partial \Sigma}\vec F\cdot ds=
	\end{align*}
	But on our surface, $z=f$ so $\frac{dz}{dt}=[Df]\begin{bmatrix}x'\\y'\end{bmatrix}=f_x\frac{dx}{dt}+f_y\frac{dy}{dt}$, giving $dz=f_xdx+f_ydy$. Substituting, using Green's, and bashing equations gives $\iint_D(\nabla\times\vec F)\cdot(\Phi_x\times\Phi_y)\,dx\,dy$, which gives the proof.
\end{proof}

\begin{thm}[Gauss' Divergence Theorem]
	\begin{align*}
		\iiint_\Omega\nabla\cdot\vec F\,dV=\iint_{\partial\Omega}\vec F\cdot\,d\vec S
	\end{align*}
\end{thm}



\newpage
\appendix
\section{Appendix}

\end{document}
